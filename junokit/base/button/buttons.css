@layer components {
	/* Default button styles */
	.juno-button {
		display: flex;
		position: relative;
		flex-direction: row;
		align-items: center;
		box-sizing: border-box;
		justify-content: center;
		max-width: 100%;
		overflow: hidden;
		transition: all 75ms ease-in-out;
		user-select: none;

		/* Size - uses inherited --btn-* or falls back to medium */
		height: var(--btn-height, 2.25rem);
		min-height: var(--btn-min-height, 2.25rem);
		max-height: var(--btn-max-height, 2.25rem);
		font-size: var(--btn-font-size, var(--text-sm));
		line-height: var(--btn-line-height, var(--text-sm--line-height));

		/* Internal variables derived from --btn-* with medium fallbacks */
		--size-radius: var(--btn-size-radius, var(--border-radius-md));
		--px-base: var(--btn-px-base, 0.5rem);
		--px-pill: var(--btn-px-pill, 0.625rem);
		--px-min: var(--btn-px-min, 0.375rem);
		--px-max: var(--btn-px-max, 1rem);
		--gap-base: var(--btn-gap-base, 0.375rem);
		--juno-button-border: var(--btn-border, 0.5px);
		--active-padding-top: var(--btn-active-padding-top, 1.5px);

		/* Pill mode and computed padding */
		--pill-radius: 9998px;
		--custom-radius: var(--size-radius);
		--padding-x-base: calc(var(--px-base) * (1 - var(--pill-mode, 0)) + var(--px-pill) * var(--pill-mode, 0));
		--padding-x: clamp(var(--px-min), var(--padding-x-base), var(--px-max));
		--gap-size: var(--gap-base);

		padding-left: var(--padding-x);
		padding-right: var(--padding-x);
		gap: var(--gap-size);
		border-radius: calc(var(--custom-radius) * (1 - var(--pill-mode, 0)) + var(--pill-radius) * var(--pill-mode, 0));
	}

	.juno-button.juno-prefers-rounded {
		--pill-mode: 1;
	}

	.juno-button.juno-prefers-not-rounded {
		--pill-mode: 0;
	}

	.juno-button.juno-button-wide {
		--padding-x: var(--px-max);
	}

	/* Icon-only buttons remove padding and set width to match height for square shape */
	.juno-button.juno-icon-only {
		padding: 0;
		width: var(--btn-height, 2.25rem);
		min-width: var(--btn-height, 2.25rem);
	}

	.juno-elements-mini,
	.juno-button-mini {
		--btn-height: 1.25rem;
		--btn-min-height: 1.25rem;
		--btn-max-height: 1.25rem;
		--btn-font-size: var(--text-xs);
		--btn-line-height: var(--text-xs--line-height);
		--btn-size-radius: var(--border-radius-sm);
		--btn-px-base: 0.25rem;
		--btn-px-pill: 0.375rem;
		--btn-px-min: 0.125rem;
		--btn-px-max: 0.5rem;
		--btn-gap-base: 0.25rem;
		--btn-border: 0.5px;
		--btn-active-padding-top: 0.5px;
	}

	.juno-elements-small,
	.juno-button-small {
		--btn-height: 1.75rem;
		--btn-min-height: 1.75rem;
		--btn-max-height: 1.75rem;
		--btn-font-size: var(--text-xs);
		--btn-line-height: var(--text-xs--line-height);
		--btn-size-radius: var(--border-radius-sm);
		--btn-px-base: 0.375rem;
		--btn-px-pill: 0.5rem;
		--btn-px-min: 0.25rem;
		--btn-px-max: 0.75rem;
		--btn-gap-base: 0.375rem;
		--btn-border: 0.5px;
		--btn-active-padding-top: 1px;
	}

	.juno-elements-medium,
	.juno-button-medium {
		--btn-height: 2.25rem;
		--btn-min-height: 2.25rem;
		--btn-max-height: 2.25rem;
		--btn-font-size: var(--text-sm);
		--btn-line-height: var(--text-sm--line-height);
		--btn-size-radius: var(--border-radius-md);
		--btn-px-base: 0.5rem;
		--btn-px-pill: 0.625rem;
		--btn-px-min: 0.375rem;
		--btn-px-max: 1rem;
		--btn-gap-base: 0.5rem;
		--btn-border: 0.5px;
		--btn-active-padding-top: 1.5px;
	}

	.juno-elements-large,
	.juno-button-large {
		--btn-height: 3rem;
		--btn-min-height: 3rem;
		--btn-max-height: 3rem;
		--btn-font-size: var(--text-base);
		--btn-line-height: var(--text-base--line-height);
		--btn-size-radius: var(--border-radius-lg);
		--btn-px-base: 0.75rem;
		--btn-px-pill: 0.875rem;
		--btn-px-min: 0.5rem;
		--btn-px-max: 1.25rem;
		--btn-gap-base: 0.625rem;
		--btn-border: 1px;
		--btn-active-padding-top: 2px;
	}

	/* Button variant classes */

	.juno-button-solid {
		/* Base solid button styles */
		--juno-button-shadow-color: 0 0.5px 1px color-mix(in srgb, var(--juno-button-color) 90%, black);
		background: var(--juno-button-color);
		color: var(--juno-button-text-color);
		font-weight: 400;
		text-shadow: var(--juno-button-shadow-color);
		border: var(--juno-button-border) solid color-mix(in srgb, var(--juno-button-color) 95%, black);
		box-shadow:
			inset 0 1px 0 color-mix(in srgb, var(--juno-button-color) 90%, white),
			inset 0 -1px 0 color-mix(in srgb, var(--juno-button-color) 95%, black);
	}

	.juno-button-solid:hover:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 95%, white);
	}

	.juno-button-solid:active:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 95%, black);
		box-shadow:
			inset 0 1px 3px color-mix(in srgb, var(--juno-button-color) 95%, black),
			inset 0 -1px 0 color-mix(in srgb, var(--juno-button-color) 85%, black);
		padding-top: var(--active-padding-top);
	}

	/* Icon shadows for solid buttons */
	.juno-button-solid svg,
	.juno-button-solid [class*="icon"] {
		filter: drop-shadow(var(--juno-button-shadow-color));
	}

	/* Light button variant */
	.juno-button-soft {
		/* Base soft button styles */
		background: color-mix(in srgb, var(--juno-button-color) 12%, transparent);
		color: var(--juno-button-text-color);
		font-weight: 400;
	}

	.juno-button-soft:hover:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 16%, transparent);
	}

	.juno-button-soft:active:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 20%, transparent);
	}

	/* Light button variant */
	.juno-button-light {
		background: linear-gradient(to top, var(--base-0), var(--base-0));
		color: var(--juno-button-text-color);
		font-weight: 400;
		border: var(--juno-button-border) solid color-mix(in srgb, var(--base-content) 20%, transparent);
		transition: all 150ms ease-out;
	}

	.juno-button-light:hover:not(:disabled) {
		background: linear-gradient(
			to top,
			color-mix(in srgb, var(--juno-button-color) 5%, var(--base-0)),
			var(--base-0) 50%,
			color-mix(in srgb, var(--base-content) 3%, var(--base-0))
		);
		border: var(--juno-button-border) solid color-mix(in srgb, var(--base-content) 24%, transparent);
	}

	.juno-button-light:active:not(:disabled) {
		background: linear-gradient(to top, var(--base-0), var(--base-0));
		border: var(--juno-button-border) solid color-mix(in srgb, var(--base-content) 28%, transparent);
		box-shadow: inset 0 1px 3px color-mix(in srgb, var(--base-content) 3%, transparent);
		padding-top: var(--active-padding-top);
	}

	/* Ghost button variant */
	.juno-button-ghost {
		background: transparent;
		color: var(--juno-button-text-color);
		font-weight: 400;
	}

	.juno-button-ghost:hover:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 8%, transparent);
	}

	.juno-button-ghost:active:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 12%, transparent);
	}

	/* Outline button variant */
	.juno-button-outline {
		background: transparent;
		color: var(--juno-button-text-color);
		font-weight: 400;
		border: var(--juno-button-border) solid var(--juno-button-color);
	}

	.juno-button-outline:hover:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 8%, transparent);
	}

	.juno-button-outline:active:not(:disabled) {
		background: color-mix(in srgb, var(--juno-button-color) 12%, transparent);
	}

	/* Unstyled button variant */
	.juno-button-unstyled {
		background: transparent;
		color: inherit;
		border: none;
		padding: 0;
		height: auto;
		max-height: none;
		font-size: inherit;
		font-weight: inherit;
	}

	.juno-button-unstyled:hover:not(:disabled),
	.juno-button-unstyled:active:not(:disabled) {
		background: transparent;
	}

	/* Inline modifier for text alignment */
	.juno-button.juno-button-inline {
		margin-left: calc(-1 * var(--px-base));
		margin-right: calc(-1 * var(--px-base));
	}

	.juno-button-mini.juno-button-inline {
		margin-top: -0.125rem;
		margin-bottom: -0.125rem;
	}

	.juno-button-small.juno-button-inline {
		margin-top: -0.25rem;
		margin-bottom: -0.25rem;
	}

	.juno-button-medium.juno-button-inline {
		margin-top: -0.375rem;
		margin-bottom: -0.375rem;
	}

	.juno-button-large.juno-button-inline {
		margin-top: -0.5rem;
		margin-bottom: -0.5rem;
	}

	/* Hidden text span - uses negative margin to cancel gap */
	.juno-button .juno-text-hidden {
		width: 0;
		height: 0;
		opacity: 0;
		overflow: hidden;
		margin-left: calc(-1 * var(--gap-base));
		margin-right: calc(-1 * var(--gap-base));
	}

	/* Justify variants - controls content group + rightIcon positioning */
	.juno-button-justify-start {
		justify-content: space-between;
	}

	.juno-button-justify-start .juno-content-group {
		justify-content: flex-start;
	}

	.juno-button-justify-center {
		justify-content: center;
	}

	.juno-button-justify-center .juno-right-icon {
		position: absolute;
		right: var(--padding-x);
	}

	.juno-button-justify-center:has(.juno-right-icon) {
		padding-right: calc(var(--padding-x) + 1rem + var(--gap-base));
	}

	.juno-button-justify-end {
		justify-content: flex-end;
	}
}
